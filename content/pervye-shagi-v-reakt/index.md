---
title: "Первые шаги в Реакт"
description: "Однажды я попытался объяснить своему другу что такое Реакт, почему он такой быстрый и популярный. Он знает что Реакт использует виртуальный DOM и создает заплатки на обновления и не затрагивает…"
date: "2018-04-13T14:30:07.389Z"
categories: 
  - React
  - Reactjs
  - Перевод
  - Front End Development

published: true
canonicalLink: https://medium.com/@badiullin.nail/%D0%BF%D0%B5%D1%80%D0%B2%D1%8B%D0%B5-%D1%88%D0%B0%D0%B3%D0%B8-%D0%B2-%D1%80%D0%B5%D0%B0%D0%BA%D1%82-4bcfd8e74c78
---

Перевод статьи: [https://medium.com/@evheniybystrov/first-steps-in-react-ef8c000c0585](https://medium.com/@evheniybystrov/first-steps-in-react-ef8c000c0585)

Однажды я попытался объяснить своему другу что такое Реакт, почему он такой быстрый и популярный. Он знает что Реакт использует **виртуальный DOM** и создает заплатки на обновления и не затрагивает остальные страницы.

Но когда я начал описывать что такое компоненты и как их связывать в один большой компонент, что такое **stateful** и **stateless**, чистые компоненты, но он перестал меня понимать. Я думаю это из-за того, что мы просто говорили и я не показывал примеры.

Итак, здесь я постараюсь показать примеры.

#### Препарации

Для создания Реакт приложений вам нужно установить [Node.js](https://nodejs.org/en/)

-   [create-react-app](https://github.com/facebook/create-react-app)
-   [Storybook](https://storybook.js.org/)

#### Что такое компонент?

Для начала, нужно понять что такое компонент.

Компоненты позволяют вам разбивать интерфейс в независимые, реюзабельные куски и думать о каждом куске отдельно, изолированно от другого. Например, компонент заголовка будет выглядеть примерно так:

```
<h1>Hello, {this.props.name}</h1>
```

И вы можете создавать другие компоненты и соединять их в один крупный компонент в виде HTML-тегов.

Могут быть stateful(умные) и stateless(глупые), которые обычно называют контейнеры и компоненты. Если мы говорим про инпуты, то компонентами можно управлять.

Давайте рассмотрим их один за другим.

#### Парадигма stateful и stateless

Класс это такой чертеж или шаблон или набор инструкций для создания особого типа объекта. Каждый объект создан из класса. Это инстансы одного класса, но отличаются своими состояниями(стейтами). Вы не можете сравнивать объекты.

```
class Component {
  state = {};

  render() {

  }
}

const firstComponent = new Component();
const secondComponent = new Component();

firstComponent !== secondComponent
```

Если вы используете функции — чистые функции, без примесей, то вы можете повторять один и тот же результат передавая одни и те же параметры.

```
function buildComponent(text) {
  return `<h1>${text}</h1>`;
}

const firstComponent = buildComponent('Hi');
const secondComponent = buildComponent('Hi');

firstComponent === secondComponent
```

#### Stateful компоненты

Так как объекты в JS имеют собственные состояния и созданы классами, stateful компоненты — объекты созданы из классов, которые наследуют React.Component или React.PureComponent (используется для избежания неиспользуемого рендеринга)

<Embed src="https://jsfiddle.net/evheniy/9gqk2aa3/embedded/" aspectRatio={0.667} />

Основное назначение использовния stateful компонентов — управление состоянием вашего приложения или компонента.

Вы можете изменить состояние использовав метод this.setState, передав простой объект

```
this.setState({comment: 'Hello'});
```

или функцию:

```
this.setState((prevState, props) => ({
  counter: prevState.counter + props.increment
}));
```

Но не используйте изменение вручную:

```
// Плохо!!!
this.state.comment = 'Hello';
```

Это не сработает. И не забывайте, что рендеринг это асинхронное действие

Другая причина — управление жизненным циклом вашего компонента.

<Embed src="https://codepen.io/eduardoboucas/embed/preview/jqWbdb?height=600&slug-hash=jqWbdb&default-tabs=html,result&host=https://codepen.io&embed-version=2" aspectRatio={0.75} />

#### Stateless компоненты

Такой компонент это просто обычная функция. Она получает какое-то свойство/параметр и возвращет компонент.

Использован ES6 синтаксис

#### Контроллируемые компоненты

Если вам надо получить данные из полей формы, то вам надо использовать компоненты со стейтами.

В этих стейтах вы можете хранить обновления, рендерить обновления и возвращать/передавать их в компоненты высшего порядка для обработки этих данных.

<Embed src="https://jsfiddle.net/evheniy/cb40L0so/embedded/" aspectRatio={0.667} />

Давайте посмотрим на более полезный пример. Допустим, мы хотим передать имя когда оно отправлено — мы можем создать форму как управляемый компонент:

<Embed src="https://jsfiddle.net/evheniy/b9fjfgnv/embedded/" aspectRatio={0.667} />

Инпут изменяет стейт путем ввода данных и отправки формы через обработчик и имеет доступ к стейту, что позволяет ему делать что угодно.

#### State

Стейты могут быть глобальными и локальными. Глобальными стейтами лучше управлять с помощью [**redux**](http://redux.js.org), но для небольших приложений все еще можно использовать stateful компоненты.

Для управления локальными стейтами(например, форма), вы можете использовать stateful компоненты или [**recompose**](https://github.com/acdlite/recompose) — библиотека, которая дает вам набор компонентов высокого уровня для управления стейтом, жизненным циклом, етц.

С recompose вы можете использовать только функциональные компоненты.